@model InventorySystem.ViewModels.CreatePurchaseViewModel
@{
  ViewData["Title"] = "Create Purchase";
}

<h1><i class="fas fa-shopping-cart"></i> Record Purchase</h1>

@if (TempData["SuccessMessage"] != null)

{
  <div class="alert alert-success">
    <i class="fas fa-check-circle"></i> @TempData["SuccessMessage"]
  </div>
}

@if (TempData["ErrorMessage"] != null)

{
  <div class="alert alert-danger">
    <i class="fas fa-exclamation-circle"></i> @TempData["ErrorMessage"]
  </div>
}

<div class="row">
  <div class="col-md-8">
    <div class="card">
      <div class="card-header">
        <h5><i class="fas fa-info-circle"></i> Purchase Details</h5>
      </div>
      <div class="card-body">
        <form asp-action="Create" method="post">
          <div asp-validation-summary="ModelOnly" class="text-danger"></div>

          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label asp-for="ItemId" class="form-label">Item *</label>
                <select asp-for="ItemId" asp-items="ViewBag.ItemId" class="form-control" required>
                  <option value="">Select an item...</option>
                </select>
                <span asp-validation-for="ItemId" class="text-danger"></span>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label asp-for="PurchaseDate" class="form-label">Purchase Date *</label>
                <input asp-for="PurchaseDate" class="form-control" type="date" required />
                <span asp-validation-for="PurchaseDate" class="text-danger"></span>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label asp-for="Vendor" class="form-label">Vendor *</label>
                <input asp-for="Vendor" class="form-control" required />
                <span asp-validation-for="Vendor" class="text-danger"></span>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label asp-for="PurchaseOrderNumber" class="form-label">Purchase Order Number</label>
                <input asp-for="PurchaseOrderNumber" class="form-control" />
                <span asp-validation-for="PurchaseOrderNumber" class="text-danger"></span>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-3">
              <div class="mb-3">
                <label asp-for="QuantityPurchased" class="form-label">Quantity *</label>
                <input asp-for="QuantityPurchased" class="form-control" type="number" min="1" required />
                <span asp-validation-for="QuantityPurchased" class="text-danger"></span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="mb-3">
                <label asp-for="CostPerUnit" class="form-label">Cost Per Unit *</label>
                <input asp-for="CostPerUnit" class="form-control" type="number" step="0.01" min="0.01" required />
                <span asp-validation-for="CostPerUnit" class="text-danger"></span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="mb-3">
                <label asp-for="ShippingCost" class="form-label">Shipping Cost</label>
                <input asp-for="ShippingCost" class="form-control" type="number" step="0.01" min="0" />
                <span asp-validation-for="ShippingCost" class="text-danger"></span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="mb-3">
                <label asp-for="TaxAmount" class="form-label">Tax Amount</label>
                <input asp-for="TaxAmount" class="form-control" type="number" step="0.01" min="0" />
                <span asp-validation-for="TaxAmount" class="text-danger"></span>
              </div>
            </div>
          </div>

          <div class="mb-3">
            <label asp-for="Notes" class="form-label">Notes</label>
            <textarea asp-for="Notes" class="form-control" rows="3"></textarea>
            <span asp-validation-for="Notes" class="text-danger"></span>
          </div>

          <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Record Purchase
          </button>
          <a href="/Purchases" class="btn btn-secondary">Cancel</a>
        </form>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card">
      <div class="card-header">
        <h6><i class="fas fa-lightbulb"></i> Purchase Tips</h6>
      </div>
      <div class="card-body">
        <ul class="list-unstyled small">
          <li><i class="fas fa-check text-success"></i> Select the correct item</li>
          <li><i class="fas fa-check text-success"></i> Enter accurate quantities and costs</li>
          <li><i class="fas fa-check text-success"></i> Include shipping and tax if applicable</li>
          <li><i class="fas fa-check text-success"></i> Add reference numbers for tracking</li>
        </ul>
      </div>
    </div>
  </div>
</div>